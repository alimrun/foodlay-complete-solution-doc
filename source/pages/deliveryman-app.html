<!doctype html>
<html lang="en">

<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Foodlay Deliveryman App Documentation</title>
  <link rel="stylesheet" href="../assets/css/docs.css">
</head>

<body>
  <header class="navbar">
    <div class="nav-inner container">
      <a class="brand" href="../../index.html">
        <div class="logo"></div>
        <div class="title">Foodlay</div>
      </a>
      <nav class="nav-links">
        <a href="../../index.html">Home</a>
        <a href="./admin-and-web.html">Admin &amp; Web</a>
        <a href="./customer-app.html">Customer App</a>
        <a href="./deliveryman-app.html">Deliveryman App</a>
      </nav>
      <div class="nav-actions">
        <button class="btn" id="menu-toggle">Menu</button>
        <button class="btn" id="theme-toggle"><span id="theme-icon">üåô</span> Theme</button>
      </div>
    </div>
  </header>

  <main class="container layout">
    <aside class="sidebar">
      <div class="search">
        <input type="text" id="search" placeholder="Search headings">
        <span class="kbd">/</span>
      </div>
      <h4>Contents</h4>
      <nav class="toc" id="toc">
        <a href="#overview">Overview</a>
        <a href="#requirements">Requirements</a>
        <a href="#environment-setup">Environment Setup</a>
        <a href="#setup">Setup</a>
        <a href="#quick-start">Quick Start</a>
        <a href="#android-ios-config">Android &amp; iOS Config</a>
        <a href="#localization-rtl">Localization &amp; RTL</a>
        <a href="#theme-branding">Theme &amp; Branding</a>
        <a href="#features">Core Features</a>
        <a href="#architecture">Architecture</a>
        <a href="#routes">Routes</a>
        <a href="#structure">Project Structure</a>
        <a href="#run">Run and Debug</a>
        <a href="#build">Build and Release</a>
        <a href="#signing-release">Signing &amp; Release</a>
        <a href="#api">API Usage</a>
        <a href="#testing">Testing</a>
        <a href="#troubleshooting">Troubleshooting</a>
        <a href="#links">Links</a>
      </nav>
    </aside>

    <section class="content">
      <h2 id="overview">Overview</h2>
      <div class="section">
        <p><strong>Foodlay Deliveryman App</strong> is a complete, production-ready application for delivery partners
          built with Flutter for Android and iOS.</p>
        <ul class="list">
          <li>A full delivery app with login, orders, maps, and chat</li>
          <li>GoRouter-based navigation with a dashboard (Home, Orders, Account)</li>
          <li>Localization, theming, DI, and Firebase messaging integrated</li>
        </ul>
        <h3>Basic Usage</h3>
        <ul class="list">
          <li>Sign in and switch to online mode</li>
          <li>Accept incoming delivery requests</li>
          <li>Navigate to pickup, update status, deliver order</li>
          <li>Review completed orders and earnings</li>
        </ul>
      </div>

      <h2 id="requirements">Requirements</h2>
      <div class="section">
        <ul class="list">
          <li>Flutter (Channel stable, 3.41.2)</li>
          <li>Dart 3+</li>
          <li>Android Studio</li>
          <li>Xcode 26.2 for IPA file build</li>
          <li>Devices or emulators</li>
        </ul>
      </div>

      <h2 id="environment-setup">Environment Setup</h2>
      <div class="section">
        <h3>Windows</h3>
        <ul class="list">
          <li>Download Android Studio Koala 2024.1.2 (bundled JDK 17).</li>
          <li>Ensure JDK 17 is used for Android builds.</li>
          <li>Run the installer (e.g., android-studio-ide-&lt;version&gt;-windows.exe).</li>
          <li>Follow the installation wizard; choose a custom location if needed.</li>
          <li>Select components (Android Studio, Android Virtual Device, etc.).</li>
          <li>Launch Android Studio and complete initial setup.</li>
          <li>Install SDK components when prompted.</li>
          <li>Optional: create an emulator in AVD Manager.</li>
        </ul>
        <h3>Install Flutter SDK (Windows)</h3>
        <ul class="list">
          <li>Download the latest stable Flutter for Windows.</li>
          <li>Extract to a folder, e.g., C:\flutter.</li>
          <li>Add C:\flutter\bin to PATH:</li>
          <li>Right‚Äëclick ‚ÄúThis PC‚Äù ‚Üí Properties ‚Üí Advanced system settings ‚Üí Environment Variables.</li>
          <li>Edit ‚ÄúPath‚Äù under System variables ‚Üí New ‚Üí add C:\flutter\bin.</li>
        </ul>
        <pre class="code">flutter doctor</pre>
        <ul class="list">
          <li>In Android Studio: File ‚Üí Settings ‚Üí Plugins ‚Üí Marketplace ‚Üí install Flutter and Dart, then restart.</li>
        </ul>
        <h3>Linux</h3>
        <ul class="list">
          <li>Download Android Studio Koala 2024.1.2 (bundled JDK 17) for Linux.</li>
          <li>Ensure JDK 17 is used for Android builds.</li>
          <li>Extract the archive, move to a preferred location, run setup:</li>
        </ul>
        <pre class="code">tar -xvzf android-studio-ide-&lt;version&gt;-linux.tar.gz
sudo mv android-studio /YOUR_DIRECTORY
cd /YOUR_DIRECTORY/android-studio/bin
./studio.sh</pre>
        <ul class="list">
          <li>Install Flutter SDK (Linux): download stable, extract, move to a preferred location, add flutter/bin to
            PATH.</li>
        </ul>
        <pre class="code">tar xf flutter_linux_&lt;version&gt;.tar.xz
sudo mv flutter /YOUR_DIRECTORY
flutter doctor</pre>
        <ul class="list">
          <li>In Android Studio: Settings ‚Üí Plugins ‚Üí Marketplace ‚Üí install Flutter and Dart, then restart.</li>
        </ul>
        <h3>macOS</h3>
        <ul class="list">
          <li>Download Android Studio for macOS (Koala 2024.1.2 with JDK 17).</li>
          <li>Ensure JDK 17 is used for Android builds.</li>
          <li>Open the DMG and drag Android Studio to Applications.</li>
          <li>Launch Android Studio; complete setup and install SDK components.</li>
          <li>Install Flutter SDK (macOS): download stable, extract, move to preferred location, add flutter/bin to
            PATH.</li>
        </ul>
        <pre class="code">tar xf flutter_macos_&lt;version&gt;.tar.xz
flutter doctor</pre>
        <ul class="list">
          <li>In Android Studio: Preferences ‚Üí Plugins ‚Üí Marketplace ‚Üí install Flutter and Dart, then restart.</li>
        </ul>
      </div>

      <h2 id="setup">Setup</h2>
      <div class="section">
        <h3>Run an existing Flutter project on IDE</h3>
        <ul class="list">
          <li>Verify Flutter and IDE setup in a terminal:</li>
        </ul>
        <pre class="code">flutter doctor</pre>
        <ul class="list">
          <li>Open the project in Android Studio or VS Code.</li>
          <li>If dependencies are not prompted, fetch them manually:</li>
        </ul>
        <pre class="code">flutter pub get</pre>
        <ul class="list">
          <li>Run the app from IDE or terminal:</li>
        </ul>
        <pre class="code">flutter run</pre>
        <h3>Change App Logo &amp; Icon</h3>
        <h4>App Logo</h4>
        <ul class="list">
          <li>Go to &lt;project&gt;/assets/images/ and replace logo.png with your logo.</li>
          <li>Use the exact file name logo.png.</li>
        </ul>
        <h4>App Icon</h4>
        <ul class="list">
          <li>Generate icons using your preferred app icon generator.</li>
          <li>Android: replace android/app/src/main/res/mipmap-* with the generated icons.</li>
          <li>iOS: replace ios/Runner/Assets.xcassets with the generated Assets.xcassets.</li>
        </ul>
        <h3>Change App Name</h3>
        <ul class="list">
          <li>Update the application name in your constants file:</li>
        </ul>
        <pre class="code">lib/config/util/app_constants.dart
static const String appName = 'YOUR_APP_NAME';</pre>
        <ul class="list">
          <li>Android: set the label in AndroidManifest.xml:</li>
        </ul>
        <pre class="code">android/app/src/main/AndroidManifest.xml
android:label="YOUR_APP_NAME"</pre>
        <ul class="list">
          <li>iOS: set display name and bundle name in Info.plist:</li>
        </ul>
        <pre class="code">ios/Runner/Info.plist
&lt;key&gt;CFBundleDisplayName&lt;/key&gt;
&lt;string&gt;YOUR_APP_NAME&lt;/string&gt;
&lt;key&gt;CFBundleName&lt;/key&gt;
&lt;string&gt;YOUR_APP_NAME&lt;/string&gt;</pre>
        <h3>Change Base URL</h3>
        <ul class="list">
          <li>Install and set up your Admin Panel first.</li>
          <li>If admin login is https://your_domain.com/admin/auth/login then base URL is https://your_domain.com</li>
          <li>Open &lt;project&gt;/lib/util/app_constrants.dart and set baseUrl.</li>
          <li>Do not add a trailing slash.</li>
        </ul>
        <pre class="code">Wrong:
static const String baseUrl = 'https://your_domain.com/';

Right:
static const String baseUrl = 'https://your_domain.com';</pre>
        <h3>Change App Package</h3>
        <ul class="list">
          <li>Find current package in android/app/src/main/AndroidManifest.xml.</li>
          <li>In Android Studio: right‚Äëclick project ‚Üí Replace in Path.</li>
          <li>Enter old package as search, new package as replacement ‚Üí Replace All.</li>
        </ul>
        <h3>Setup Firebase for Push Notification</h3>
        <div class="alert alert-warning">Use one Firebase project for all apps (Customer, Admin/Web, Deliveryman). Add
          multiple apps under the same project.</div>
        <h4>Android</h4>
        <ul class="list">
          <li>Add Android app in Firebase with your package name and app name.</li>
          <li>Download google-services.json and place into android/app/ (replace existing file).</li>
          <li>Replace notification icon with a white PNG at android/app/src/main/res/drawable/notification_icon.png.
          </li>
          <li>Update Firebase options in lib/main.dart (apiKey, appId, messagingSenderId, projectId).</li>
        </ul>
        <ul class="list">
          <li>Generate lib/firebase_options.dart via FlutterFire CLI:</li>
        </ul>
        <pre class="code">dart pub global activate flutterfire_cli
firebase login
flutterfire configure</pre>
        <h4>iOS</h4>
        <ul class="list">
          <li>Add iOS app in the same Firebase project.</li>
          <li>Download GoogleService-Info.plist and place under ios/.</li>
          <li>Complete APNs/FCM integration steps for iOS.</li>
        </ul>
        <ul class="list">
          <li>See: <a href="https://firebase.flutter.dev/docs/messaging/apple-integration" target="_blank">FCM via APNs
              integration</a></li>
        </ul>
        <h4>Admin</h4>
        <ul class="list">
          <li>Add a Web app in the project to retrieve firebaseConfig for Admin.</li>
          <li>Follow Admin Firebase configuration.</li>
        </ul>
        <ul class="list">
          <li>Guide: <a
              href="https://6ammart.app/documentation/admin-application-configuration/mandatory-setups/#firebase-configuration"
              target="_blank">Admin Firebase configuration</a></li>
        </ul>
        <div class="alert alert-info">After setup, restart your IDE, uninstall any previously installed app, and run
          again on a real device (emulators/simulators do not receive push on iOS).</div>
        <h3>Android Secrets</h3>
        <ul class="list">
          <li>Create android/app/src/main/res/values/secrets.xml with required keys.</li>
          <li>Keys: google_maps_api_key, facebook_app_id, facebook_client_token</li>
        </ul>
        <pre class="code">&lt;resources&gt;
  &lt;string name="google_maps_api_key"&gt;YOUR_KEY&lt;/string&gt;
  &lt;string name="facebook_app_id"&gt;YOUR_APP_ID&lt;/string&gt;
  &lt;string name="facebook_client_token"&gt;YOUR_TOKEN&lt;/string&gt;
&lt;/resources&gt;</pre>
        <h3>Add Google Map API Key</h3>
        <ul class="list">
          <li>Generate your Google Maps API key.</li>
          <li>Enable: Directions API, Distance Matrix API, Geocoding API, Maps SDK for Android, Maps SDK for iOS, Maps
            JavaScript API, Places API, Geolocation API, Routes API, Places API (New).</li>
          <li>Enable billing on your Google Cloud project.</li>
        </ul>
        <div class="alert alert-warning">If your map key was created before March 1, 2025, enable Routes API and Places
          API (New).</div>
        <h4>Android</h4>
        <pre
          class="code">&lt;meta-data android:name="com.google.android.geo.API_KEY" android:value="YOUR_MAP_API_KEY_HERE"/&gt;</pre>
        <h4>iOS</h4>
        <pre class="code">GMSServices.provideAPIKey("YOUR_MAP_API_KEY_HERE")</pre>
        <h4>Web</h4>
        <pre
          class="code">&lt;script src="https://maps.googleapis.com/maps/api/js?key=YOUR_MAP_API_KEY_HERE"&gt;&lt;/script&gt;</pre>
      </div>

      <h2 id="quick-start">Quick Start</h2>
      <div class="section">
        <h3>Pick a device</h3>
        <ul class="list">
          <li>Android: start an emulator from AVD Manager or connect a device with USB debugging enabled.</li>
          <li>iOS: open Simulator from Xcode (or connect a real device with Developer Mode enabled).</li>
        </ul>
        <h3>Run from IDE</h3>
        <ul class="list">
          <li>Open the project in <span class="mark">Android Studio</span> or <span class="mark">VS Code</span>.</li>
          <li>Select a target device from the device dropdown.</li>
          <li>Click Run ‚ñ∂ to build and launch in debug mode.</li>
        </ul>
        <h3>Run from terminal</h3>
        <pre class="code">flutter pub get
flutter run</pre>
        <h3>Common checks</h3>
        <ul class="list">
          <li>Accept Android SDK licenses if prompted.</li>
        </ul>
        <pre class="code">flutter doctor --android-licenses</pre>
        <ul class="list">
          <li>Verify a device is available.</li>
        </ul>
        <pre class="code">flutter devices</pre>
        <img src="../assets/images/upload/open-project.png" alt="Open project" class="doc-img">
        <img src="../assets/images/upload/emulator-connection.png" alt="Emulator connection" class="doc-img">
        <img src="../assets/images/upload/run-completed.png" alt="Run completed" class="doc-img">
      </div>

      <!-- Configuration section merged into Setup; removed to avoid duplication -->

      <h2 id="android-ios-config">Android &amp; iOS Config</h2>
      <div class="section">
        <h3>Android</h3>
        <ul class="list">
          <li>App ID: set applicationId under defaultConfig in android/app/build.gradle.</li>
          <li>App name: set android:label in android/app/src/main/AndroidManifest.xml.</li>
          <li>SDK levels: set minSdkVersion and targetSdkVersion in build.gradle.</li>
          <li>Signing: create a keystore, add key.properties, and reference it in the release signingConfig.</li>
          <li>Release build: flutter build apk or flutter build appbundle.</li>
        </ul>
        <h3>iOS</h3>
        <ul class="list">
          <li>Open ios/Runner.xcworkspace in Xcode.</li>
          <li>Bundle Identifier: set under General; select Team to enable automatic signing.</li>
          <li>Deployment Target: choose a supported iOS version.</li>
          <li>Capabilities: enable Push Notifications and Background Modes if using FCM.</li>
          <li>Release build: flutter build ipa or archive via Xcode Product ‚Üí Archive.</li>
        </ul>
        <img src="../assets/images/upload/application-name.png" alt="Application name" class="doc-img">
        <img src="../assets/images/upload/application-id-2.png" alt="Application ID" class="doc-img">
        <img src="../assets/images/upload/ios-config-1.png" alt="iOS config 1" class="doc-img">
        <img src="../assets/images/upload/ios-config-2.png" alt="iOS config 2" class="doc-img">
      </div>

      <h2 id="localization-rtl">Localization &amp; RTL</h2>
      <div class="section">
        <h3>Add New Language</h3>
        <ul class="list">
          <li>Create a new ARB file under lib/l10n/arb, e.g., lib/l10n/arb/app_es.arb</li>
          <li>Copy all keys from app_en.arb and translate only the values.</li>
          <li>Keep placeholders and variables intact to avoid runtime issues.</li>
          <li>Use valid ISO language/country codes when needed (ISO‚Äë639 / ISO‚Äë3166). Reference: <a href="https://docs.oracle.com/cd/E13214_01/wli/docs92/xref/xqisocodes.html" target="_blank" rel="noopener">ISO codes list</a></li>
        </ul>
        <pre class="code">lib/l10n/arb/app_es.arb
{
  "@@locale": "es",
  "office": "Oficina",
  "orders": "Pedidos"
}</pre>
        <ul class="list">
          <li>Generate localizations (or hot‚Äërestart if auto‚Äëgenerated):</li>
        </ul>
        <pre class="code">flutter gen-l10n</pre>
        <ul class="list">
          <li>Ensure the new locale is present in supportedLocales.</li>
        </ul>
        <pre class="code">MaterialApp(
  supportedLocales: AppLocalizations.supportedLocales,
  // Or explicitly:
  // supportedLocales: const [Locale('en'), Locale('es')],
)</pre>
        <h3>Remove Existing Language</h3>
        <ul class="list">
          <li>Delete the ARB file from lib/l10n/arb and run flutter gen-l10n.</li>
          <li>If locales are declared manually, remove the Locale from supportedLocales.</li>
        </ul>
        <h3>Make Default Language</h3>
        <ul class="list">
          <li>Force a default locale by setting the locale on MaterialApp:</li>
        </ul>
        <pre class="code">MaterialApp(
  locale: const Locale('es'),
)</pre>
        <ul class="list">
          <li>Or rely on device language by not specifying locale.</li>
        </ul>
        <h3>RTL Support</h3>
        <ul class="list">
          <li>RTL locales like Arabic are supported automatically by Flutter‚Äôs Directionality.</li>
          <li>Use directional-aware widgets; avoid hard-coded left/right paddings where possible.</li>
        </ul>
      </div>

      <h2 id="theme-branding">Theme &amp; Branding</h2>
      <div class="section">
        <ul class="list">
          <li>Customize ThemeData (light/dark) under lib/config/theme</li>
          <li>Manage palette via CustomThemeColors</li>
          <li>Declare fonts in pubspec.yaml and reference in theme</li>
        </ul>
      </div>

      

      <h2 id="features">Core Features</h2>
      <div class="section">
        <ul class="list">
          <li>Dashboard tabs: Home, Orders, Account</li>
          <li>Login with password/OTP; setup password</li>
          <li>Orders list, details, confirmation</li>
          <li>Order delivery location with Google Maps (from/to)</li>
          <li>Cancel delivery with reason selection</li>
          <li>Notifications (Firebase) and local notifications</li>
          <li>Chat and conversations</li>
          <li>Settings, edit profile, terms &amp; condition, contact us</li>
          <li>File viewer for images/videos</li>
        </ul>
      </div>

      <h2 id="architecture">Architecture</h2>
      <div class="section">
        <ul class="list">
          <li>Routing with GoRouter and dashboard ShellRoute</li>
          <li>State with Bloc; DI via get_it + injectable</li>
          <li>ThemeLocalizationWrapper and AppWrapper</li>
          <li>Firebase initialized in main with NotificationHelper and background handler</li>
          <li>Error handling via Catcher2 (debug/release configs)</li>
        </ul>
      </div>

      <h2 id="routes">Routes</h2>
      <div class="section">
        <ul class="list">
          <li>Shell: Dashboard</li>
          <li>Home: /home</li>
          <li>Orders: /order</li>
          <li>Orders ‚Üí Details: /order/order_details</li>
          <li>Orders ‚Üí Result: /order/order_result</li>
          <li>Orders ‚Üí Cancel Reason: /order/order_cancel_reason</li>
          <li>Orders ‚Üí Delivery Location: /order/order_delivery_location</li>
          <li>Chat: /chat</li>
          <li>Chat ‚Üí Conversation: /chat/conversation</li>
          <li>Account: /account</li>
          <li>Login: /login</li>
          <li>Login ‚Üí Password: /login/password</li>
          <li>Login ‚Üí Verification: /login/verification</li>
          <li>Login ‚Üí Set Up Password: /login/set_up_password</li>
          <li>Settings: /settings</li>
          <li>Settings ‚Üí Setup Password: /settings/settings_setup_password</li>
          <li>Notification: /notification</li>
          <li>File Viewer: /file_viewer</li>
          <li>Splash: /splash</li>
          <li>Contact Us: /contact_us</li>
          <li>Terms &amp; Condition: /terms_and_condition</li>
          <li>Edit Profile: /edit_profile</li>
          <li>Forget Password Login: /forget_login</li>
        </ul>
      </div>

      <h2 id="structure">Project Structure</h2>
      <div class="section">
        <ul class="list">
          <li>lib/config/route: route_config.dart</li>
          <li>lib/config/theme: light_theme.dart, dark_theme.dart, custom_theme_colors.dart</li>
          <li>lib/config/util: assets.gen.dart, fonts.gen.dart, styles.dart, constants</li>
          <li>lib/core: helpers, DI, notifications, handlers</li>
          <li>lib/features: account, chat, orders, settings, home, etc.</li>
          <li>lib/l10n/arb: app_en.arb, app_ar.arb, app_bn.arb, app_es.arb, app_hi.arb</li>
        </ul>
      </div>

      <h2 id="run">Run and Debug</h2>
      <div class="section">
        <pre class="code highlight">flutter run</pre>
        <img src="../assets/images/upload/emulator-connection.png" alt="Emulator connection" class="doc-img">
        <img src="../assets/images/upload/run-completed.png" alt="Run completed" class="doc-img">
      </div>

      <h2 id="build">Build and Release</h2>
      <div class="section">
        <h3>Android</h3>
        <pre class="code highlight">flutter build apk</pre>
        <h3>iOS</h3>
        <pre class="code highlight">flutter build ipa</pre>
      </div>

      <h2 id="signing-release">Signing &amp; Release</h2>
      <div class="section">
        <ul class="list">
          <li>Android: configure keystore, release signing, and proguard rules</li>
          <li>Android: validate release checklist before publishing</li>
          <li>iOS: set signing identities, capabilities, and entitlements</li>
          <li>iOS: verify App Store release checklist</li>
        </ul>
      </div>

      <h2 id="api">API Usage</h2>
      <div class="section">
        <ul class="list">
          <li>Use token-based authentication</li>
          <li>Handle pagination for lists</li>
          <li>Use secure storage for sensitive data</li>
        </ul>
      </div>

      <h2 id="testing">Testing</h2>
      <div class="section">
        <pre class="code">flutter test</pre>
      </div>

      <h2 id="troubleshooting">Troubleshooting</h2>
      <div class="section">
        <ul class="list">
          <li>Gradle build failed: align plugin &amp; wrapper versions</li>
          <li>Flutter SDK path not found: verify PATH includes flutter/bin</li>
          <li>Dependency resolution failed: flutter clean then pub get</li>
          <li>iOS deployment target: update Podfile and Xcode settings</li>
          <li>No matching Firebase client: correct bundle identifier</li>
          <li>Generated files missing: run build_runner with delete-conflicting-outputs</li>
          <li>google-services.json not found: place at android/app/google-services.json</li>
          <li>Maps key missing: create secrets.xml and add google_maps_api_key</li>
        </ul>
      </div>


      <h2 id="links">Links</h2>
      <div class="section">
        <ul class="list">
          <li><a href="https://docs.flutter.dev" target="_blank" rel="noopener">Flutter Docs</a></li>
          <li><a href="https://pub.dev" target="_blank" rel="noopener">pub.dev</a></li>
        </ul>
      </div>
    </section>
  </main>

  <footer class="footer container">
    <div>¬© 2026 Foodlay ‚Äî Deliveryman app documentation. Need help? See Home &gt; Help &amp; Support.</div>
  </footer>
  <script src="../assets/js/docs.js"></script>
</body>

</html>
